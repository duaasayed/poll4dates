{% extends "base.html" %}

{% load i18n %}
{% load account %}

{% block head_title %}{% trans "Password Reset" %}{% endblock %}

{% block content %}
<main>
    <section class="inner-page pt-4 mt-5">
        <div class="container col-md-12 mt-5">
            <div class="shadow card mb-5 bg-white rounded col-md-4 mx-auto p-0">
                <div class="card-header" style="background-color: #71c55d; color: white;">
                    <h3 class="text-center">{% trans "Password Reset" %}</h3>
                </div>
                <div class="card-body">
                    {% if user.is_authenticated %}
                    {% include "account/snippets/already_logged_in.html" %}
                    {% endif %}

                    <p>
                        Forgotten your password? Enter your e-mail address below, and we'll send you an e-mail
                        allowing you to reset it.
                    </p>

                    <form method="POST" action="{% url 'account_reset_password' %}" class="password_reset">
                        {% csrf_token %}
                        <div class="mb-3">
                            <label class="form-label" for="id_email"><i class="bi bi-envelope"></i></label>
                            <input class="form-control" type="email" id="id_email" name="email" placeholder="E-mail"
                                required value="{% if form.email.value %}{{form.email.value}}{% endif %}">
                            {% if form.errors and 'email' in form.errors %}
                            {% for error in form.errors.email %}
                            <p style="color: red">{{ error|escape }}</p>
                            {% endfor %}
                            {% endif %}
                        </div>
                        <input type="submit" class="btn-get-started" value="{% trans 'Reset My Password' %}" />
                    </form>

                    <p>{% blocktrans %}Please contact us if you have any trouble resetting your password.
                        {% endblocktrans %}
                    </p>
                </div>

            </div>
        </div>
    </section>
</main>
{% endblock %}